(()=>{"use strict";function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function n(t){return"FRAME"!==t.type&&"COMPONENT"!==t.type&&"INSTANCE"!==t.type?null:{layoutMode:t.layoutMode,counterAxisSizingMode:t.counterAxisSizingMode,horizontalPadding:t.horizontalPadding,verticalPadding:t.verticalPadding,itemSpacing:t.itemSpacing,constraints:"horizontal: ".concat(t.constraints.horizontal,", vertical: ").concat(t.constraints.vertical)}}function r(t){var n=t.split(".");return{elementName:n[0],componentType:n.length>1?' component="'.concat(n[1],'"'):""}}function e(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;l=!1}else for(;!(l=(e=a.call(r)).done)&&(c.push(e.value),c.length!==n);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,n)||o(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){if(t){if("string"==typeof t)return a(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,n):void 0}}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function i(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!a)return new Error("オブジェクトが選択されていません。オブジェクトを選択してから実行してください。");if("COMPONENT"===a.type)return new Error("選択したオブジェクトにコンポーネントが含まれています。コードを生成できません。");var l="",u="  ".repeat(c);if("INSTANCE"===a.type){var f=r(a.name),s=f.elementName,y=f.componentType;if(l+="".concat(u,"<").concat(s).concat(y),a.variantProperties)for(var m=0,v=Object.entries(a.variantProperties);m<v.length;m++){var d=e(v[m],2),p=d[0],g=d[1];"false"!==g&&(l+=" ".concat(p,'="').concat(g,'"'))}if(null==a.mainComponent)return new Error("メインコンポーネントが見つかりませんでした。");var h=n(a.mainComponent),b=n(a);if(h&&b){for(var A=function(n,r){for(var e={},o=0,a=Object.entries(n);o<a.length;o++){var i=(u=a[o],f=2,function(t){if(Array.isArray(t))return t}(u)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,a,i,c=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;l=!1}else for(;!(l=(e=a.call(r)).done)&&(c.push(e.value),c.length!==n);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(u,f)||function(n,r){if(n){if("string"==typeof n)return t(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,r):void 0}}(u,f)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],l=i[1];r[c]!==l&&(e[c]=r[c])}var u,f;return e}(h,b),S="",w=0,E=Object.entries(A);w<E.length;w++){var O=e(E[w],2),T=O[0],j=O[1];"horizontalPadding"===T?S+="px: ".concat(j/8,", "):"verticalPadding"===T?S+="py: ".concat(j/8,", "):l+=" ".concat(T,"={{").concat(j,"}}")}""!==S&&(l+=" sx={{".concat(S.slice(0,-2),"}}"))}l+=">\n"}else if("TEXT"===a.type)l+="".concat(u).concat(a.characters,"\n");else{var P=r(a.name),I=P.elementName,N=P.componentType;l+="".concat(u,"<").concat(I).concat(N,">\n")}if("children"in a){var M,C=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=o(t))){r&&(t=r);var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw i}}}}(a.children);try{for(C.s();!(M=C.n()).done;){var x=i(M.value,c+1);if(x instanceof Error)return x;l+="".concat(x)}}catch(t){C.e(t)}finally{C.f()}}return"TEXT"!==a.type&&(l+="".concat(u,"</").concat(a.name.split(".")[0],">\n")),l}"figma"===figma.editorType&&(figma.showUI(__html__),figma.ui.onmessage=function(t){if("generate-code"===t.type){var n=figma.currentPage.selection;if(1!==n.length)console.error("1つのオブジェクトを選択してください。");else{var r=i(n[0]);r instanceof Error?console.error(r.message):console.log(r)}figma.closePlugin()}})})();